<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Firewall Builder: Using Built-In Revision Control in Firewall Builder | HowtoForge - Linux Howtos and Tutorials</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<style type="text/css">
<!--
.command {
    padding: 1em;
    border: 1px dashed #2f6fab;
    color: black;
    background-color: #f9f9f9;
    line-height: 1.1em;
        font-family: Courier New, Courier, mono;
        font-size: 12px;
        font-style: italic;
}

.system {
    color: black;
        font-family: Courier New, Courier, mono;
        font-size: 12px;
        font-style: italic;
}

.highlight {
    color: #FF0000;
        font-family: Georgia, "Times New Roman", Times, serif;
        font-size: 12px;
        text-decoration: underline;
}
-->
</style>
</head>
<body>

  <h2>Using Built-in Policy Installer in Firewall Builder</h2>

  <table border=0>
    <tr>
      <td><img src="http://www.fwbuilder.org/images/icon_128x128.png" height="128" width="128" /></td>
      <td>Revision 1.0<br/>
        Author: vadim@fwbuilder.org<br/>
        <a href="http://www.fwbuilder.org">http://www.fwbuilder.org</a>
      </td>
    </tr>
  </table>

  <p>
    Firewall Builder was introduced on this site earlier with
    articles <a href="http://www.howtoforge.com/getting-started-with-firewall-builder">
    Getting Started With Firewall Builder</a>
    and <a href="http://www.howtoforge.com/using-built-in-revision-control-in-firewall-builder">Using
    Built-In Revision Control In Firewall Builder</a>. There, we
    looked at the basic functions of fwbuilder and created simple
    firewall configuration, as well as explored more advanced features
    of the program such as its built-in revision control system. This
    article continues the series and demonstrates how Firewall Builder
    can help you automate the process of deployment and activation of
    the generated firewall configuration.
  </p>

  <p>
    After firewall configuration has been generated by
    one of the policy compilers and saved in a file on
    disk in the format required by the target firewall,
    it needs to be transferred to the firewall machine
    and activated. This function is performed by the
    component we call "Policy Installer" which is part
    of the Firewall Builder GUI.
  </p>

  <p>
    Starting with version 2.0, Firewall Builder comes with built-in
    installer that uses SSH to communicate with the
    firewall. Installer works on all OS where Firewall Builder is
    available: Linux, FreeBSD, Windows and Mac OS X.  On Linux, *BSD
    and Mac OS X it uses standard ssh client that comes with the
    system; on Windows it uses putty.
  </p>

  <p>
    Installer needs to be able to copy generated firewall script to
    the firewall and then run it there. In order to do so, it uses
    secure shell. The program does not include ssh code, it uses
    external ssh client.  On Linux, BSD and Mac OS X it uses standard
    ssh client <b>ssh</b> and secure shell file copy
    program <b>scp</b> that come with the system; on Windows it
    uses <b>plink.exe</b> and <b>pscp.exe</b>.  Full directory path to
    ssh client program can be configured in the Preferences dialog
    (accessible via Edit/Preferences menu), however if you are on
    Linux, *BSD or Mac and use standard ssh client that is available
    via your PATH environment variable, you do not need to change
    default value there.
  </p>

  <p>
    Installer works differently depending on the targert platform. In
    case of Linux and BSD based firewalls it uses <b>scp</b> to copy
    generated configuration files to the firewall machine and then
    uses <b>ssh</b> to log in and run the script. In case of Cisco
    routers or ASA appliance (PIX), it logs in, switched
    to <b>enable</b> and then <b>configuration</b> mode and executes
    configuration commands one by one in a manner similar
    to <b>expect</b> scripts. It inspects router's replies looking for
    errors and stops if it detects one. In the end, it issues
    command <b>write mem</b> to store new configuration in memory and
    logs out.
  </p>

  <p>
    Built-in policy installer has been designed to work with dedicated
    firewall machine, that is, when computer where you run Firewall
    Builder GUI and actual firewall are different
    machines. Nevertheless, it can be used when they are the same
    machine as well. The only difference is that in all commands below
    you would use the name or address of the machine where you run
    Firewall Builder instead of the name or address of the dedicated
    firewall. SSH client will then connect back to the same machine
    where it runs and everything will work exactly the same as if it
    was different computer.
  </p>

  <!-- ***************************************************** -->
                
  <h2>How does installer decide what address to use to
    connect to the firewall</h2>

  <p>
    Installer does not use the name of the firewall to
    connect to, it always connects to its IP address. It
    starts by scanning interfaces of the firewall object
    looking for one that is marked as <em>"Management
      interface"</em> using checkbox in the interface
    object dialog. Installer will use address of this
    interface to connect to. The <em>"management
      interface"</em> checkbox looks like shown on the
    next screenshot:
  </p>

  <img src="management_interface.png"/>

  <p>
    If your firewall has multiple addresses and you want
    to use the one that is not assigned to its interface
    in the fwbuilder object, then you can overwrite the
    address using entry field in
    the <em>"installer"</em> tab of the "advanced"
    firewall object settings dialog, like this:
  </p>

  <img src="alternative_fw_address.png" />

  <p>
    More about other input fields in this dialog below.
  </p>

  <p>
    Finally you can overwrite the address on one-time
    basis just for the install session using entry field
    in the installer options dialog. This is the same
    dialog where you enter password:
  </p>

  <img src="alternative_fw_address_2.png" />

  <blockquote>
    This works for all supported firewall
    platforms, i.e. iptables on Linux, pf on OpenBSD and
    FreeBSD, ipfw on FreeBSD and Mac OS X, ipfilter on
    FreeBSD, Cisco IOS access lists and Cisco ASA
    (PIX). Regardless of the platform, installer follows
    the rules described here to determine what address
    it should use to connect to the firewall.
  </blockquote>

  <!-- ***************************************************** -->
  
  <h2>Configuring installer on Windows</h2>
  <p>
    You can skip this section if you run Firewall
    Builder GUI on Linux, *BSD or Mac OS X.
  </p>

  <p>
    Here is the link to
    <a href="http://www.fwbuilder.org/slideshows/using_putty/slide_1.html">
      slide show </a> that demonstrates the process.
  </p>

  <p>
    Download and install putty.exe, plink.exe and pscp.exe
    somewhere on your machine (say, in
    C:\putty). Download URL is
    <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">http://www.chiark.greenend.org.uk/~sgtatham/putty/</a>
  </p>

  <p>
    Installer does not use <b>putty.exe</b> but it will be
    very useful for troubleshooting and for setting up
    sessions and ssh keys.
  </p>

  <p>
    In the Edit/Preferences dialog, in the "SSH" tab,
    use "Browse" buttons to locate <b>plink.exe</b>.
    Hit "OK" to save preferences. If you installed it
    in <b>C:\putty</b>, then you should end up
    with <b>C:\putty\plink.exe</b> in this entry
    field. Do the same to configure path to <b>pscp.exe</b>.
  </p>

  <p>
    You may log in to the firewall using regular user
    account or as root. See instructions below for an
    explanation how to configure sudo if you use regular
    user accounts. This part of the configuration does
    not depend on the OS you run Firewall Builder.
  </p>

  <p>
    Before you try to use fwbuilder installer with plink.exe and
    pscp.exe, test it from the command line to make sure you can log
    in to your firewall. If this is the first time you try to log in
    to the firewall machine using putty.exe, plink.exe or pscp.exe,
    then it will discover new host key and ask you if it is correct
    and if you want to save it in cache. There are lots of resources
    on the Internet that explain what does this mean and how you
    should verify key accuracy before you accept it. If the key is
    already known to the program it will not ask you about it and will
    just proceed to the part where it asks you to enter
    password. Enter the password and hit "Return" to see if you can
    log in and see command line prompt from the firewall.
  </p>

  <p>
    Here is the command (assuming you use account "fwadmin" to manage
    firewall "guardian"):
  </p>

  <p class="command">

    C:\Users\vadim>c:\PuTTY\plink.exe -l fwadmin guardian

  </p>

  <p>
    <img src="plink_login.png" alt=""/>
  </p>

  <p>
    <b>NOTE:</b> Built-in installer does not use GUI ssh
    client <b>putty.exe</b>, it uses command line
    utilities that come from the same
    author <b>plink.exe</b> and <b>pscp.exe</b>. You can
    test with <b>putty.exe</b> but do not enter path to it
    in the SSH tab of the Preferences dialog in fwbuilder,
    it won't work.
  </p>

  <!-- *************************************************** -->
  <h2>Configuring installer to use regular user account to manage the firewall:</h2>

  <p>
    Before v3.0.4 built-in installer could only use
    regular account to activate policy if this account was
    configured on the firewall to use sudo without
    password. Starting with v3.0.4 this is not necessary
    anymore because installer can recognize sudo password
    prompts and enter password when needed.
  </p>

  <ul>
    <li>
      Create an account on the firewall (say,
      "fwadmin"), create a group "fwadmin" and make
      this user a member of this group. Most modern
      Linux systems automatically create group with
      the name the same as the name of the user
      account.
<p class="command">

  useradd fwadmin

</p>
    </li>

    <li>
      Create directory /etc/fw/ on the firewall, make
      it belong to group fwadmin, make it group
      writable

<p class="command">

  mkdir /etc/fw<br>
  chgrp fwadmin /etc/fw<br>
  chmod g+w fwadmin /etc/fw<br>

</p>
    </li>

    <li>
      <p>
        Configure sudo to permit user fwadmin execute
        firewall script and a couple of other commands
        used by fwbuilder policy installer.  Run
        <b>visudo</b> on the firewall to edit file
        <b>/etc/sudoers</b> as follows:

<p class="command">

  Defaults:%fwbadmin   !lecture , passwd_timeout=1 , timestamp_timeout=1<br>
  # User alias specification<br>
  %fwbadmin  ALL = PASSWD: /etc/fw/&lt;FWNAME&gt;.fw , /usr/bin/pkill , /sbin/shutdown<br>

</p>
                      
        here &lt;FWNAME&gt; is the name of the firewall.
        Installer will log in to the firewall as user
        fwadmin, copy firewall script to file
        /etc/fw/&lt;FWNAME&gt;.fw and then use the
        following command to execute it:

<p class="command">

  ssh fwadmin@firewall sudo -S /etc/fw/&lt;FWNAME&gt;.fw

</p>
      </p>

      <p>
        Installer needs to be able to run <b>pkill
          shutdown</b> to kill <b>shutdown</b> command
        that may be running if you tried to install
        policy in <b>testing mode</b> before. In
        testing mode installer copies firewall
        script to temporary directory <b>/tmp</b>
        then runs command <b>shutdown -r
          timeout</b> to schedule reboot in a few
        minutes and finally runs firewall script. To
        cancel scheduled reboot you need to install
        policy again, with test mode checkbox turned
        off. In this case installer will copy
        firewall script to its permanent place and
        use <b>pkill</b> to kill running shutdown
        command to cancel reboot.
      </p>
    </li>

    <li>
      set up ssh access to the firewall. Make sure you
      can log in as user fwadmin using ssh from your
      management workstation:

<p class="command">

  $ ssh -l fwadmin &lt;FWNAME&gt;

</p>

      You may use either password or public key authentication; the
      installer will work either way. Use <b>putty.exe</b>
      or <b>plink.exe</b> to test ssh access if you are on Windows
      (see above for the explanation how to do this on Windows).
    </li>

    <li>
      in the "installer" tab of the "firewall settings"
      dialog of the firewall object put user name you use
      to log in to the firewall (here it
      is <em>"fwadmin"</em>):

      <p>
        <img src="installer_tab_1.png" alt=""/>
      </p>
    </li>

    <li>
      if you need to use alternative name or IP
      address to communicate with the firewall, put it
      in the corresponding field in the same dialog
      page
    </li>
    <li>
      Make sure entry field "directory on the firewall
      where script should be installed" is set
      to <b>/etc/fw</b>. Firewall Builder is not going to
      create this directory, so you need to create it
      manually before you install firewall policy (see
      above).
    </li>
    <li>
      Leave "Policy install script" and "Command line options" fields blank.
    </li>
  </ul>


  <!-- *************************************************** -->
  <h2>Configuring installer if you use root account to manage the firewall:</h2>
  <ul>
    <li>
      Create directory /etc/fw/ on the firewall, make it
      belong to root, make it writable
    </li>
    <li>
      set up ssh access to the firewall. Make sure you
      can log in as root using ssh from your
      management workstation:

<p class="command">
  
  $ ssh -l root &lt;firewall_name&gt;

</p>

      You may use either password or public key
      authentication; the installer will work either
      way.
    </li>

    <li>
      in the "installer" tab of the "firewall
      settings" dialog of the firewall object put
      "root" as the user name you use to log in to the
      firewall
    </li>
    <li>
      Make sure entry field "directory on the firewall
      where script should be installed" is set
      to <b>/etc/fw</b>
    </li>
    <li>
      Leave "Policy install script" and "Command line options" fields are blank
    </li>
  </ul>

  <!-- ***************************************************** -->
  <h2>Configuring installer if you regularly switch between Unix and Windows workstations using the same .fwb file and want to manage the firewall from both</h2>
  <p>
    First of all, the .fwb file is portable and can be
    copied back and forth between Linux/BSD and windows
    machines. Even comments and object names entered in
    local language should be preserved since the GUI
    uses UTF-8 internally.
  </p>
  <p>
    Built-in installer relies on path settings for ssh
    and scp in Edit/Preferences/SSH.  Since preferences
    are stored outside of the .fwb file, the installer
    should work just fine when .fwb file is copied from
    Unix to Windows and back. Just configure path to ssh
    program in preferences on each system using default
    settings "ssh" on Linux and path to plink.exe on windows
    and give it a try.
  </p>

  <!-- **************************************************** -->
  <h2>Always permit SSH access from the management workstation to the firewall</h2>
  <p>
    One of the typical errors that even experienced
    administrators make sometimes is block ssh access to
    the firewall from the management workstation. You need
    your workstation to be able to communicate with the
    firewall in order to be able to make changes to the
    policy, so you always need to add a rule to permit
    this.  Firewall Builder can simplify this and generate
    this rule automatically if you put an IP address of
    your workstation in the entry field on the first page
    of firewall settings dialog. Here is the screenshot
    that illustrates this setting for an iptables
    firewall; management station has an IP address
    192.168.1.100
  </p>
  <p>
    <img src="backup_access.png" alt=""/>
  </p>

  <!-- *************************************************** -->
  <h2>Using putty sessions on Windows</h2>
  <p>
    putty allows one to store destination host name or
    address, user name and bunch of other parameters in
    a session so that they all can be called up at
    once. If you wish to use sessions, do the following:
  </p>

  <p>
    <ul>
      <li>
        Configure putty as usual, create and test session
        for the firewall, test it using putty outside of
        the Firewall Builder. When you use session,
        firewall host name and user name are stored in the
        session file. Firewall Builder allows you to enter
        session name in the entry field in the firewall
        settings dialog where you would normally enter
        alternative address of the firewall. Comment next
        to the entry field reminds you about this.  Just
        type session name in that field, leave user name
        field blank and save the settings.
      </li>
      <li>
        Once you start the installer, do not enter user
        name in the "User name" field on the first page of
        installer wizard, however you need to enter the
        login and enable passwords. Configure the rest of
        installer options as usual, they do not change
        when you use putty sessions.
      </li>
    </ul>
  </p>

  <h2>How to configure installer to use alternative ssh
    port number</h2>

  <p>
    If ssh daemon on your firewall is listening on an
    alternative port, then you need to configure
    built-installer so that it will run <b>scp</b>
    and <b>ssh</b> clients with command line parameters
    that would make them connect to this port. This is
    done in the "installer" tab of the firewall object
    "advanced" settings dialog as shown on the following
    screenshot (here we set the port to "2222"):
  </p>

  <p>
    <img src="different_ssh_port.png" alt=""/>
  </p>

  <blockquote>
    On Unix command line option that specifies port number
    is different for <b>ssh</b> and <b>scp</b>. It is
    lowercase <b>-p</b> for <b>ssh</b> and
    uppercase <b>-P</b> for <b>scp</b>.  If you
    use <b>putty</b> tools <b>plink.exe</b>
    and <b>pscp.exe</b> on Windows, the option to specify
    alternative port number is <b>-P</b> (capital "P") for
    both.
  </blockquote>

  <p>
    You can use the same input fields in this dialog to
    add any other command line parameters for <b>ssh</b>
    and <b>scp</b>, for example this is where you can
    confiugre parameters to make it use alternative
    identity file (private keys). This information is
    saved with a firewall object rather than globally
    because you may need to use different parameters for
    different firewall machines, such as different key
    files or ports.
  </p>

  <h2>How to configure installer to use ssh private keys
    from a special file</h2>
  
  <p>
    You can use the same entry fields in this dialog to
    provide other additional command line parameters for
    <b>ssh</b> and <b>scp</b>, for example to use keys
    from a different identity file. Here is how it looks
    like:
  </p>

  <p>
    <img src="different_ssh_keys.png" alt=""/>
  </p>

  <p>
    Here I configure <b>ssh</b> and <b>scp</b> to use
    alternative port and alternative identity
    file <b>~/.ssh/fwadmin_identity</b>. The command line
    parameter for the port is different for <b>ssh</b>
    and <b>scp</b>, but parameter for the identity file is
    the same <b>-i</b> for both utilities.
  </p>

  <p>
    On Windows, the simplest way (or may be the only way)
    to use alternative keys is to use putty sessions.
  </p>

  <h2>Troubleshooting ssh access to the firewall</h2>

  <p>
    Built-in policy installer will not work if ssh access
    to the firewall is not working. Test it using this
    command on Linux if use you user "fwadmin" to manage
    firewall:
  </p>

  <p class="command">

    ssh -l fwadmin firewall

  </p>

  <p>
    If you use root account to manage the firewall, the
    command becomes
  </p>

  <p class="command">

    ssh -l root firewall

  </p>

  <p>
    On Windows use <b>putty.exe</b> or <b>plink.exe</b> to
    do this:
  </p>

  <p class="command">

    C:\Users\vadim>c:\PuTTY\plink.exe -l fwadmin firewall

  </p>

  <p class="command">

    C:\Users\vadim>c:\PuTTY\plink.exe -l root firewall

  </p>

  <p>
    If you can not log in using ssh at this point, verify
    that ssh daemon is working on the firewall, that
    existing firewall policy does not block ssh access and
    ssh daemon configuration in /etc/ssh/sshd_config
    permits login for root (if you plan to use root
    account to manage the policy).
  </p>


  <!-- **************************************************** -->
  <h2>Running built-in installer to copy generated
    firewall policy to the firewall machine and activate
    it there.</h2>


  <p>
    Now that all preparations are complete, we can move on and
    actually try to install newly generated firewall policy. Select
    firewall object in the object tree in Firewall Builder GUI, click
    right mouse button and use menu item "Install". The program will
    recompile the policy and open installer dialog.
  </p>

  <p>
    <img src="installer_iptables.png">
    </p>

  <p>
    (This how installer options dialog looks like for
    iptables, pf, ipfilter and ipfw firewalls).
  </p>

  <p>
    Here the program already entered user
    name <b>fwadmin</b> in the "User Name" field, but
    you can change it for one installation session if
    you wish. Next you need to enter the password for
    this user. <b><i>This is the password of user
        fwadmin on the firewall machine</i></b>. Address
    that will be used to comunicate with the firewall is
    also entered by the program automatically, it is
    taken from the firewall settings. You can change it
    for one installation session as well.
  </p>

  <p>
    Other installer parameters do the following:
  </p>

  <p>
    <ul>
      <li><b>Quiet install</b>: as the name implies,
        this checkbox suppresses all progress output of
        the installer
      </li>

      <li><b>Verbose</b>: this checkbox has the opposite
        action, it makes the installer print a lot of
        debugging information, including ssh client debug
        output.
      </li>

      <li><b>Store a copy of fwb file on the
          firewall</b>: if this checkbox is on, the
        installer will copy not only generated firewall
        configuration files to the directory on the
        firewall machine which is configured in the
        "installer" tab of the firewall object dialog,
        but also original .fwb data file as well. <b>Use
          of this option is discouraged if you manage many
          firewalls from the same .fwb file because
          distributing file that contains security policy
          of multiple firewalls to all of them is a bad
          idea</b>.
      </li>

      <li><b>Test run</b>: if this checkbox is on,
        policy installer will copy firewall
        configuration files to a temporary directory on
        the firewall and will run them from there. The
        intent is to test generated configuration
        without making it permanent. If firewall machine
        reboots, it will activate previous firewall
        policy. Installer uses subdirectory <b>"tmp"</b>
        inside installation directory on the firewall
        machine which is configured in the "installer"
        tab of the firewall object dialog. If
        installation directory configured there
        is <b>/etc/fw</b> (as in the screenshot earlier
        in this HOWTO), then installer will put files in
        the directory <b>/etc/fw/tmp</b> when test
        install option is in effect. <b><i>You need to
            create this directory on the firewall before
            using this installation mode</i></b>.
      </li>
      
      <li>
        <b>Schedule reboot in... </b>: If this option is
        on, installer schedules firewall reboot after
        given time in minutes. This can be used as a
        measure of last resort to protect against lost
        of communication with the firewall which may
        happen if there is an error in the new firewall
        policy which makes it block ssh access from the
        management machine. Installer uses
        command <b>shutdown -r +10min</b> to schedule
        reboot in 10 min. If installation has been
        successfull and everything works right, you need
        to repeat installation with options "test
        install" and "Schedule reboot" turned off to
        cancel reboot and install new policy
        permanently.
      </li>

    </ul>
  </p>

  <p>
    After all parameters are set and the password
    entered, hit "OK" to start installation.
  </p>

  <p>
    If this is the first time your management machine is
    logging in to the firewall via ssh, it will find out
    that ssh host key of the firewall is unknown to it
    and will present you with a dialog:
  </p>

  <p>
    <img src="new_ssh_host_key_dlg.png">
    </p>

  <p>
    Here is says that it does not know host key of the
    firewall "crash". This is nothing more than a copy
    of the warning message presented by the ssh
    client. You should verify the host key manually and
    if it matches, click "Yes". If you click "No" in the
    dialog, installation process will be interrupted.
  </p>

  <blockquote>
    Installer only recognizes ssh client warning message
    about unknown public host keys. If you rebuld your
    firewall machine, which means its host key changes,
    ssh will print different warning message which
    fwbuilder installer does not recognise. In this case
    you will see this message in the installer progress
    window, but installation process will get stuck. You
    need to use ssh client (<b>ssh</b> on Unix
    or <b>putty.exe</b> on Windows) to update host key
    before you can use fwbuilder policy installer with
    this firewall again.
  </blockquote>

  <p>
    After this, installer copies files to the firewall
    and runs policy script there. You can monitor its
    progress in the dialog as shown on the screenshot:
  </p>

  <p>
    <img src="install_dialog_overview.png">
    </p>

  <p>
    This is an example of successfull installation
    session. Installer records the status in the left
    hand side panel of the dialog. If you use installer
    to update several firewall machines in one session,
    their names and corresponding status of the
    installation session for each will be shown in the
    panel on the left. You can save installer log to a
    file using "Sabe log to file" button, this can be
    useful for documentation or troubleshooting.
  </p>

  <!-- **************************************************** -->
  <h2>Running built-in installer to copy generated
    firewall policy to Cisco router or ASA (PIX)
  </h2>

  <p>
    From the user's point of view the installer works the
    same when you manage Cisco router or ASA firewall,
    with only few minor differences. First of all, the
    first screen of the installer, where you enter the
    password, offers another input field for
    the <b>enable</b> password as well.
  </p>

  <blockquote>
    You should be able to use IPv6 address to communicate
    with the router.
  </blockquote>

  <p>
    <img src="install_dialog_cisco.png">
    </p>

  <p>
    Most of the options and parameters in this dialog are
    the same as those for Linux firewalls (see above). The
    following parameters work differently for Cisco
    devices:
  </p>

  <p>
    <ul>
      <li><b>Test run</b>: if this checkbox is on, policy
        installer will copy new access lists configuration
        to the router or ASA appliance but will not
        issue <b>write mem</b> command in the end.
      </li>
      
      <li>
        <b>Schedule reboot in... </b>: If this option is
        on, installer issues command <b>reload in NNN</b>
        after new configuration has been loaded. This
        schedules reboot in NNN minutes. In combination
        with "test run" option this can serve as a
        roll-back mechanism in case of complete loss of
        contact with the router or firewall because of an
        error in the policy. Since "test run" does not
        perform <b>"write mem"</b> in the end, the
        original access list stays in startup
        configuration of the router and will be loaded
        after reboot.
      </li>

      <li>
        <b>Cancel reboot if policy activation was
          successful</b>: If this option is on, installer
        issues command <b>reload cancel</b> in the end of
        the policy activation process to cancel previously
        scheduled reboot.
      </li>

    </ul>
  </p>

  <p>
    Here is a screenshot of installation session to a
    Cisco router. Note the output at the very top of the
    log that shows how installer detected previously
    unknown RSA host key and accepted it after the user
    clicked "Yes" in the pop-up dialog (not shown on the
    screenshot). It then logged into the router; you can
    see the <b>banner motd</b> output from the
    router. After this, installer switched
    to <b>enable</b> mode, set terminal width and turned
    off terminal pagination using <b>terminal length 0</b>
    command and finally switched to the <b>configuration
      mode</b>. It then started enterig generated
    configuration line by line.
  </p>

  <p>
    <img src="install_cisco_progress.png">
    </p>

  <p>
    The final part of the installation session looks like
    this:
  </p>

  <p>
    <img src="install_cisco_progress_end.png">
    </p>

  <p>
    This was a successfull installation session, with no
    errors. Installer finished entering configuration
    lines and issued <b>exit</b> command to exit
    configuration mode, then <b>wr mem</b> command to save
    configuration to memory and finally <b>exit</b> again
    to log out.
  </p>



</body>
</html>
