<?xml version="1.0"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
                 "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">

   <sect1 id="new-library">
    <title>Creating and Using a User-Defined Library of Objects</title>

      <para>The User library that comes with Firewall Builder is all you need if you are the only
        person administering firewalls in your enterprise. If you have several administrators,
        however, each with a different workstation, then you may want to create a user library that
        you can distribute. That way, user-defined objects can be created once, by one
        person.</para>

      <para>Let's create and distribute a simple user-defined library. Start by selecting the
            <guimenuitem>New Object/New Library</guimenuitem> option from the
            <guimenu>Object</guimenu> menu.</para>

      <para>The library pull-down menu switches to <guilabel>New Library</guilabel>. This library is
        empty by default except for the standard folders.</para>

      <figure id="user-defined-library1">
          <title>A New, Rmpty User-Defined Library</title>
              <graphic scale="70" fileref="objects/images/user-defined-library1.png" />
        </figure>

      <para>Click the New Library icon to bring up the library dialog.</para>

      <figure id="user-defined-library2">
          <title>Library Dialog</title>
              <graphic scale="70" fileref="objects/images/user-defined-library2.png" />
        </figure>

      <para>The Library dialog has three controls: Name, Color, and Comments. Enter a new name for
        the library in the Name field. (Here we are calling it ACME Library.) If you want, you can
        also specify a color for the library. This helps you easily distinguish one library from
        another when you are working. In this case, we have set the color to a shade of blue.</para>

      <figure id="user-defined-library3">
          <title>ACME Library with Blue Background</title>
              <graphic scale="70" fileref="objects/images/user-defined-library3.png" />
        </figure>

      <para>Use the normal object creation procedures to create objects in the library. Here we have
        created a web server object with a interface that has a dynamically assigned IP address.
        We've also created a network object for the 192.168.3.0/24 subnet.</para>

      <figure id="user-defined-library4">
          <title>Library with User-Created Objects</title>
              <graphic scale="70" fileref="objects/images/user-defined-library4.png" />
        </figure>

      <para>Click <guimenuitem>File/Save</guimenuitem> to save the object file.</para>

      <para>To export the library to a file,
      select <guimenuitem>File/Export Library</guimenuitem>. The
      following dialog appears:</para>

      <figure id="user-defined-library5">
          <title>Export Your Library</title>
              <graphic scale="70" fileref="objects/images/user-defined-library5.png" />
        </figure>

      <para>If you want to make the library read-only, leave
      the <guilabel>Make exported libraries read-only</guilabel>
      checked. Otherwise, uncheck it.</para>

      <para>Click <guibutton>OK</guibutton>.</para>

      <para>A file system Save dialog appears. Here you can specify a
      name and location for the file. Be sure the file has
      a <emphasis>.fwl</emphasis> file extension.</para>

      <figure id="user-defined-library6">
          <title>Save Dialog Box</title>
              <graphic scale="60" fileref="objects/images/user-defined-library6.png" />
        </figure>

      <para>You can now move or e-mail the library to someone else.</para>

      <para>To load a library, copy the file to the directory where
      you have Firewall Builder store your object files. Then,
      select <guimenuitem>Import Library</guimenuitem> from the
      Firewall Builder <guimenu>File</guimenu> menu. (You may have to
      restart Firewall Builder to get it to locate the file. Until
      then, the "Import Library" option may be grayed out.)</para>
      
     <para>You can now use this library like any other library. Keep
     in mind that changes to one copy of the user-defined library has
     no effect on other copies. To propagate changes, you have to
     redistribute the library.</para>
   </sect1>
