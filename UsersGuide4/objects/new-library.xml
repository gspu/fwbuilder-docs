<?xml version="1.0"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
                 "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">

   <sect1 id="new-library">
    <title>Creating and Using a User-Defined Library of Objects</title>

      <para>The User library that comes with Firewall Builder is all
      you need if you're the only one administering firewalls in your
      enterprise. But, if you have several administrators, each with a
      different workstation, then you may want to create a user
      library that you can distribute. That way, user-defined objects
      only have to be created once, by one person.</para>

      <para>Let's create and distribute a simple user-defined
      library. Start by selection <guimenuitem>New Object/New
      Library</guimenuitem> from the <guimenu>Object</guimenu>
      menu.</para>

      <para>The library pull-down menu switches to <guilabel>New
      Library</guilabel>, which is empty by default, except for the
      standard folders.</para>

      <figure id="user-defined-library1">
          <title>A new, empty user-defined library</title>
              <graphic scale="70" fileref="objects/images/user-defined-library1.png" />
        </figure>

      <para>Click on the New Library icon to bring up the library dialog.</para>

      <figure id="user-defined-library2">
          <title>Library dialog</title>
              <graphic scale="70" fileref="objects/images/user-defined-library2.png" />
        </figure>

      <para>The Library dialog has three controls: Name, Color, and
      Comments. Enter a new name for the library in the Name
      field. (Here we are calling it ACME Library.) If you want, you
      can also specify a color for the library. This helps you notice
      when you're in that particular library. In this case, we have
      set the color to a shade of blue.</para>

      <figure id="user-defined-library3">
          <title>ACME library with blue background</title>
              <graphic scale="70" fileref="objects/images/user-defined-library3.png" />
        </figure>

      <para>Use the normal object creation procedures to create
      objects in the library. Here we have created a Web server object
      with a interface that has a dynamically assigned IP
      address. We've also created a network object for the
      192.168.3.0/24 subnet.</para>

      <figure id="user-defined-library4">
          <title>Library with user-created objects</title>
              <graphic scale="70" fileref="objects/images/user-defined-library4.png" />
        </figure>

      <para>Click <guimenuitem>File/Save</guimenuitem> to save the object file.</para>

      <para>To export the library to a file,
      select <guimenuitem>File/Export Library</guimenuitem>. The
      following dialog appears:</para>

      <figure id="user-defined-library5">
          <title>Export your library</title>
              <graphic scale="70" fileref="objects/images/user-defined-library5.png" />
        </figure>

      <para>If you want to make the library read-only, leave
      the <guilabel>Make exported libraries read-only</guilabel>
      checked. Otherwise, uncheck it.</para>

      <para>Click <guibutton>OK</guibutton>.</para>

      <para>A file system Save dialog appears. Here you can specify a
      name and location for the file. Be sure the file has
      a <emphasis>.fwl</emphasis> file extension.</para>

      <figure id="user-defined-library6">
          <title>Save dialog box</title>
              <graphic scale="60" fileref="objects/images/user-defined-library6.png" />
        </figure>

      <para>You can now move or email the library to someone else.</para>

      <para>To load a library, copy the file to the directory where
      you have Firewall Builder store your object files. Then,
      select <guimenuitem>Import Library</guimenuitem> from the
      Firewall Builder <guimenu>File</guimenu> menu. (You may have to
      restart Firewall Builder to get it to locate the file. Until
      then, the "Import Library" option may be grayed out.)</para>
      
     <para>You can now use this library like any other library. Keep
     in mind that changes to one copy of the user-defined library has
     no effect on other copies. To propagate changes, you have to
     redistribute the library.</para>
   </sect1>
