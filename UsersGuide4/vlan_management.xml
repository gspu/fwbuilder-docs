<?xml version="1.0"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
                 "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">



<sect1 id="vlan_management">
  <title>VLAN interfaces</title>

  <!-- TODO need examples -->

  <para>
    <itemizedlist>
      <listitem>
        <para>
          Generated script includes shell code to manage VLAN
          interfaces if checkbox "Configure VLAN interfaces" is
          turned on in the "Script" tab of the firewall object
          "advanced" settings dialog. By default, it is turned off.
        </para>
      </listitem>

      <listitem>
        <para>Script uses <emphasis>vconfig</emphasis> tool which
          should be present on the friewall. The script checks if
          it is available and aborts if it can not find it.
        </para>
      </listitem>

      <listitem>
        <para>
          Script checks if vlan interface configured in the GUI
          exists on the firewall and creates it if necessary.
        </para>
      </listitem>

      <listitem>
        <para>
          If the script finds vlan interface on the firewall that
          is not configured in the fwbuilder GUI, it deletes it
        </para>
      </listitem>
    </itemizedlist>
  </para>




  <sect2 id="vlan_management_linux">
    <title>VLAN interface management on Linux</title>

    <para>
      Script generated by fwbuilder and intended for Linux firewall
      can create and remove VLAN interfaces if checkbox "Configure
      VLAN interfaces" is turned on in the "Script" tab of the
      firewall object "advanced" settings dialog. By default, it is
      turned off.
    </para>

    <para>
      As with IP addresses, the script manages VLAN interfaces
      incrementally, that is, it compares actual configuration of the
      firewall machine to the configuration defined in fwbuilder and
      then adds or removes VLAN interfaces. Running the same script
      multiple times will not make any unnecessary changes on the
      firewall. If actual configuration matches objects created in
      fwbuilder GUI, script does nut perform any actions and just
      exits.
    </para>

    <para>
      The script uses utility <emphasis>vconfig</emphasis> to
      configure vlan interfaces. It checks if the utility is present
      on the firewall machine and aborts execution if it is not
      found. If this utility is installed in an unusual place on your
      machine, you can configure the path to it in the "Host OS"
      settings dialog of the firewall object.
    </para>

    <para>
      VLAN interfaces can have different names on Linux, depending on
      the naming convention established using <emphasis>"vconfig
      set_name_type"</emphasis> command.  Four naming types are
      available: VLAN_PLUS_VID (vlan0005), VLAN_PLUS_VID_NO_PAD
      (vlan5), DEV_PLUS_VID (eth0.0005), DEV_PLUS_VID_NO_PAD (eth0.5).
      Fwbuilder supports all four, you just assign the name to the
      VLAN interface in the GUI and generated script will
      automatically issue "vconfig set_name_type" command to choose
      correct name type.
    </para>



  </sect2>


  <sect2 id="vlan_management_bsd">
    <title>VLAN interface management on BSD</title>

    <para>
    </para>
  </sect2>

</sect1>


